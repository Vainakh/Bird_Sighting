<html lang="en" ng-app="BirdsApp">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.2/angular.min.js" charset="utf-8"></script>
  <script src="js/app.js"></script>
  <title>Document</title>
</head>
<body ng-controller="MainController as ctrl">
  <h1>My Spotted Birds</h1>
  <div class="container">

    <form name="form.type=form" ng-submit="ctrl.createBird()">
      <input
      ng-model="form.type"
      type="text"
      placeholder="Bird name" />

      <input
      ng-model="form.origin"
      type="text"
      placeholder="Bird origin" />

      <input
      ng-model="form.image"
      type="url"
      placeholder="Bird image" />

      <input type="submit" value="Create New Bird" />
    </form>
    <h3>Bird Info:</h3>
    <div ng-repeat="bird in ctrl.birds" class="details">

      <hr>
      <h4> {{ bird.type }} </h4>
      <h4> {{ bird.origin }} </h4>
      <img ng-src="{{ bird.image }}" alt="">
      <button ng-click="ctrl.deleteBird(bird._id)">Remove Bird</button>
      <button ng-if="$index !== ctrl.indexOfEditFormToShow"
              ng-click="ctrl.indexOfEditFormToShow = $index">
              Edit Bird</button>
      <form ng-if="$index === ctrl.indexOfEditFormToShow" ng-submit="ctrl.editBird(bird._id)">
        <input
        ng-model="ctrl.updatedType"
        type="text"
        placeholder="Bird name" />

        <input
        ng-model="ctrl.updatedOrigin"
        type="text"
        placeholder="Bird origin" />

        <input
        ng-model="ctrl.updatedImage"
        type="url"
        placeholder="Bird image" />

        <input type="submit" value="Submit Edits" />
      </form>
    </div>

  </div>
</body>
</html>
